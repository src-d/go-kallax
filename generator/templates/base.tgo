package {{.Name}}

import (
    "github.com/src-d/go-kallax"
    "github.com/src-d/go-kallax/types"
    "database/sql"
    "database/sql/driver"
)

var _ types.SQLType

{{define "afterSaveEvent"}}err = s.Store.Transaction(func(store *kallax.Store) error {
        updated, err = store.Save(record)
        if err != nil {
                return err
        }
        return record.{{.}}()
}){{end}}
{{template "model" .}}
{{template "schema" .}}
